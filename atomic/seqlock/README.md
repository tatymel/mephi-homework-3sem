# SeqLock

В этой задаче нужно реализовать секвентную блокировку.

Это разновидность блокировки для чтения-записи, где чтение полностью lock free.

Внутри секвентной блокировки хранится счётчик:
* Каждое взятие блокировки на запись увеличивает счётчик на 1
* Каждое отпускание блокировки на запись увеличивает счётчик на 1
* Взять блокировку на запись можно только если значение счётчика чётное
* При взятии или отпускании блокировки на чтение изменения счётчика не происходит

Код, который должен брать блокировку на чтение вместо этого читает в цикле:

```c
do {
    s = SeqLock_ReadLock(&lock);
    // read data
} while (!SeqLock_ReadUnlock(&lock, s));
```

## Материалы
[Секвентные блокировки](https://it.wikireading.ru/1841)
